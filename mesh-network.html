<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Distributed Publish &amp; Subscribe for IoT: Mesh Network</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Distributed Publish &amp; Subscribe for IoT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mesh-network.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Mesh Network </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#message-transports">Transports</a><ul><li class="level2"><a href="#Multicast">Multicast</a></li>
<li class="level2"><a href="#Unicast">Unicast</a><ul><li class="level3"><a href="#UDP">UDP</a></li>
<li class="level3"><a href="#TCP">TCP</a></li>
<li class="level3"><a href="#DTLS">DTLS</a></li>
<li class="level3"><a href="#Pipe">Pipe</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><br />
 A DPS network is a loosely connected collection of network nodes (devices) that function as subscriber, publishers, both or neither.</p>
<p>Loosely connected means that the nodes hold state information about other nodes but do not necessarily maintain network connectivity to other nodes. There are no predesignated roles, any node can publish topics or subscribe to topics. DPS nodes build and manage routing tables based on the subscription topics and forward publications hop-by-hop from publishers to subscribers. Nodes with multiple network interfaces will automatically route publications between networks. Nodes can send publications on a local subnet using IP multicast, can be manually configured to connect to other nodes, or can use a directory service to locate other nodes. Publication routing is independent from the network level connections, so long as there is at least one network path DPS will route publications to all subscribing nodes.</p>
<p>The picture below shows a mesh of subscriber and publisher nodes.</p>
<div class="image">
<img src="dps_mesh.jpg" alt="dps_mesh.jpg"/>
<div class="caption">
DPS Mesh</div></div>
 <p>Subscriptions flood throughout the network and can be forwarded in either direction, also there may be multiple routes. Publications only flow on routes that have matching subscriptions. Multicast publications are unsolicited and will be received by all nodes on the same subnet that are configured as multicast listeners. Unicast publications are only forwarded if the publication matches the subscriptions. In the steady state a publication reaching any node will be routed to all matching subscribers.</p>
<h1><a class="anchor" id="message-transports"></a>
Transports</h1>
<h2><a class="anchor" id="Multicast"></a>
Multicast</h2>
<p>Multicast publications are wrapped in a CoAP envelope and sent to and received from the default CoAP port <em>5683</em>.</p>
<p>A CoAP wrapped publication message is sent as a non-confirmable PUT request with options:</p><ul>
<li>Uri-Path: <em>dps/pub</em> </li>
<li>Content-Format: <em>application/cbor</em> </li>
</ul>
<p>Control over sending and receiving multicast messages is provided via the <em>mcastPub</em> parameter of <a class="el" href="group__node.html#ga538588a1e2ea805377a90ac22ee6bc82" title="Initialized and starts running a local node. ">DPS_StartNode()</a>.</p>
<h2><a class="anchor" id="Unicast"></a>
Unicast</h2>
<p>DPS implements four different transports for sending and receiving unicast messages.</p>
<p>Unicast endpoints may be explicitly created and destroyed with <a class="el" href="group__node.html#gab7616642a79f637aa146b3b1a4ed0af8" title="Link the local node to a remote node. ">DPS_Link()</a> and <a class="el" href="group__node.html#ga18398ef1e81c5dba98a95da6d18b937e" title="Unlink the local node from a remote node. ">DPS_Unlink()</a>. The port used in unicast communication is provided via the <em>listenPort</em> parameter of <a class="el" href="group__node.html#ga538588a1e2ea805377a90ac22ee6bc82" title="Initialized and starts running a local node. ">DPS_StartNode()</a>.</p>
<h3><a class="anchor" id="UDP"></a>
UDP</h3>
<p>Each DPS message is contained in a single UDP datagram.</p>
<p>DPS does not perform segmentation and reassembly of application payloads that do not fit into a single UDP datagram.</p>
<h3><a class="anchor" id="TCP"></a>
TCP</h3>
<p>Each DPS message is prefixed with the length of the message encoded as a CBOR unsigned integer value.</p>
<h3><a class="anchor" id="DTLS"></a>
DTLS</h3>
<p>DTLS provides message authentication, integrity and confidentiality above UDP. Each DPS message is contained in a single DTLS datagram.</p>
<p>DPS does not perform segmentation and reassembly of application payloads that do not fit into a single DTLS fragment.</p>
<h3><a class="anchor" id="Pipe"></a>
Pipe</h3>
<p>Pipe transports messages over local domain sockets on Unix and named pipes on Windows.</p>
<p>Each DPS message is prefixed with the length of the message encoded as a CBOR unsigned integer value.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="tutorials-security.html#enabling-network-layer-security">Enabling network layer security</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div class="navpath" id="nav-path">
  <ul>
    <li class="footer" style="float:left"><b>Distributed Publish & Subscribe for IoT</b></li> <li class="footer">Generated Wed May 15 2019 12:06:23</li>
  </ul>
</div>
</body>
</html>
